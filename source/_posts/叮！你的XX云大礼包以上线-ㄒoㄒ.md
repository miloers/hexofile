---
title: 叮！你的XX云大礼包以上线 /(ㄒoㄒ)/~~
date: 2017-03-18 11:09:22
tags: 学习 抓包
---

![脸红](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980140368.jpg)
昨天下午，我正溜溜撸码的时候，我后面同事突然喊我，
“能不能帮我下个资源。。。“
我意味深长的看了他一眼，
说了声“好”。
<!--more--><!--more-->

#### 前言

我同事在找了个云盘的资源，大文件下载必须安装云盘。
同事一脸怒气的安装了客户端。一副认命的表情。
安装完客户端，吐了一口浊气，选中资源，点击下载。
“80kb/s的速度，你要和我到天荒地老吗？”
一口老血喷到屏幕上。

#### 使用WireShark

从你的浏览器中搜索<strong>wireShark</strong>下载。

我从公司装的是英文版，今天在自己本里下载是个中文版本的。

下载完输入过滤器 tcp  port http

如图![选择过滤器](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463273.png)

然后选中你的网络链接。

接着，在你XX网盘选中任务 开始下载，打开我们的工具开始抓。

下载大约2-3秒就可以了。关闭下载，暂停抓包。

我第一次抓然没有抓到，这个工具我真的不怎么会用。

接着在抓，然后再protocol 协议列里找到HTTP，选中相关资源。找到了。

如图![HTTP图](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463394.png)

然后选中它，进去
![页面详细图](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463312.png)

选中请求的URI，浏览器中访问。

咦？我去，怎么个情况。怎么给我整个这个！！！！！
![报错图](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463337.png)

```
{"error_code":31045,"error_msg":"user not exists","request_id":1772649275372969519}
```

![崩溃](http://ww4.sinaimg.cn/bmiddle/6af89bc8gw1f8r9dxd3cnj20j60kmt9p.jpg)

用户不存在，昨天还好好的，今天你个骚货就改了是吧！

我当时的想法是访问时需要把cookie带上！

![HTTP图](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463394.png)
还是在这，右键追踪流->TCP流。

我找到了一个整个访问的地址链。

![地址](http://cgewx.img48.wal8.com/img48/565731_20170206100721/148980463371.png)

搞它，浏览器中访问，搞定下载！

![民歌](http://cgewx.img48.wal8.com/img48/565731_20170206100721/14898060167.png)

<strong>民歌，竟然是民歌。。</strong>

最后，你的益达还给你
![](http://ww3.sinaimg.cn/bmiddle/9150e4e5gw1fbg1yrtcu4j20mp0qoq46.jpg)
